webpackJsonp([1],{"04pQ":function(t,e,i){"use strict";var r={name:"vue-particles",props:{color:{type:String,default:"#dedede"},particleOpacity:{type:Number,default:.7},particlesNumber:{type:Number,default:80},shapeType:{type:String,default:"circle"},particleSize:{type:Number,default:4},linesColor:{type:String,default:"#dedede"},linesWidth:{type:Number,default:1},lineLinked:{type:Boolean,default:!0},lineOpacity:{type:Number,default:.4},linesDistance:{type:Number,default:150},moveSpeed:{type:Number,default:3},hoverEffect:{type:Boolean,default:!0},hoverMode:{type:String,default:"grab"},clickEffect:{type:Boolean,default:!0},clickMode:{type:String,default:"push"}},mounted:function(){var t=this;i("9B60"),this.$nextTick(function(){t.initParticleJS(t.color,t.particleOpacity,t.particlesNumber,t.shapeType,t.particleSize,t.linesColor,t.linesWidth,t.lineLinked,t.lineOpacity,t.linesDistance,t.moveSpeed,t.hoverEffect,t.hoverMode,t.clickEffect,t.clickMode)})},methods:{initParticleJS:function(t,e,i,r,a,n,o,s,l,c,u,d,m,p,f){particlesJS("particles-js",{particles:{number:{value:i,density:{enable:!0,value_area:800}},color:{value:t},shape:{type:r,stroke:{width:0,color:"#192231"},polygon:{nb_sides:5}},opacity:{value:e,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:a,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:s,distance:c,color:n,opacity:l,width:o},move:{enable:!0,speed:u,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:d,mode:m},onclick:{enable:p,mode:f},onresize:{enable:!0,density_auto:!0,density_area:400}},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})}}},a={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{id:"particles-js",color:t.color,particleOpacity:t.particleOpacity,linesColor:t.linesColor,particlesNumber:t.particlesNumber,shapeType:t.shapeType,particleSize:t.particleSize,linesWidth:t.linesWidth,lineLinked:t.lineLinked,lineOpacity:t.lineOpacity,linesDistance:t.linesDistance,moveSpeed:t.moveSpeed,hoverEffect:t.hoverEffect,hoverMode:t.hoverMode,clickEffect:t.clickEffect,clickMode:t.clickMode}})},staticRenderFns:[]},n=i("C7Lr")(r,a,!1,null,null,null);e.a=n.exports},"07lz":function(t,e){},"0b1u":function(t,e){},"0c4n":function(t,e){},"2T1a":function(t,e){},"3iBc":function(t,e){},"7Otq":function(t,e,i){t.exports=i.p+"static/img/logo.a083924.png"},AAnF:function(t,e){},"BGt/":function(t,e){},C2da:function(t,e){},D8LU:function(t,e){},EETj:function(t,e){},EWIa:function(t,e){},"Fen+":function(t,e){},HL7H:function(t,e){},JB2G:function(t,e){},LJp3:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("xd7I"),a=i("ZLEe"),n=i.n(a),o=i("hRKE"),s=i.n(o),l=i("MEnj"),c=i.n(l),u={name:"app",created:function(){if(localStorage.userToken){var t=c()(localStorage.userToken);this.$store.dispatch("setIsAutnenticated",!this.isEmpty(t)),this.$store.dispatch("setUser",t)}},methods:{isEmpty:function(t){return void 0===t||null===t||"object"===(void 0===t?"undefined":s()(t))&&0===n()(t).length||"string"==typeof t&&0===t.trim().length}}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var m=i("C7Lr")(u,d,!1,function(t){i("0b1u")},null,null).exports,p=i("e1F6"),f={name:"Navbar",data:function(){return{levelList:[],imageUrl:""}},watch:{$route:function(){this.getBreadcrumb()}},created:function(){this.getBreadcrumb()},methods:{toweb:function(){window.location.href="http://www.baidu.com"},getBreadcrumb:function(){var t=this.$route.matched.filter(function(t){return t.name}),e=t[0];e&&e.name.trim().toLocaleLowerCase()!=="home".toLocaleLowerCase()&&(t=[{path:"/",meta:{title:"首页"}}].concat(t)),this.levelList=t},localRemove:function(){localStorage.removeItem("userToken"),this.$store.dispatch("clearCurrentState"),this.$router.push("/login")}},updated:function(){},computed:{user:function(){return this.$store.getters.user}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Menu_header"},[i("div",[i("el-breadcrumb",{staticClass:"breadcrumb-container",attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.levelList,function(e){return i("el-breadcrumb-item",{key:e.path,attrs:{to:e.path}},[t._v(t._s(e.meta.title))])}),1)],1),t._v(" "),i("div",[i("el-row",[i("el-col",{attrs:{span:24}},[i("a",{staticClass:"webym",attrs:{href:"http://cms.mangguo.info",title:"前端页面",target:"_blank"}},[t._v("前台")]),t._v(" "),i("el-dropdown",{attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link"},[i("img",{staticStyle:{width:"40px",height:"40px","vertical-align":"middle","border-radius":"50%"},attrs:{src:t.user.avatar,alt:""}}),t._v(" "),i("span",[t._v(t._s(t.user.name))]),t._v(" "),i("i",{staticClass:"el-icon-arrow-down el-icon--right",staticStyle:{"vertical-align":"middle"}})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-error"},nativeOn:{click:function(e){return t.localRemove(e)}}},[t._v("退出")])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var g={data:function(){return{opends:["1","2"],navConfig:{main:"1",usergl:"1-1",basis:"2-1",article:"2-2",navigation:"2-3",imgconfig:"2-4",product:"2-5",clientserver:"2-6",basisbottom:"2-7",company:"2-8",about:"2-9",productshow:"3-1"},activeNav:"1"}},methods:{},components:{MenuHeader:i("C7Lr")(f,v,!1,function(t){i("JB2G")},"data-v-60cd398e",null).exports},mounted:function(){var t=window.location.href;t=t.split("/mgcms/")[1],this.activeNav=this.navConfig[t]}},h={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"menu_list"},[r("el-container",{staticClass:"el_container"},[r("el-header",[r("MenuHeader")],1),t._v(" "),r("el-container",[r("el-aside",[r("div",{staticClass:"logo"},[r("router-link",{attrs:{tag:"a",to:"/mgcms/main"}},[r("img",{attrs:{src:i("7Otq"),alt:""}})])],1),t._v(" "),r("el-row",{staticClass:"tac"},[r("el-col",{attrs:{span:24}},[r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#2d3e56","text-color":"rgb(191, 203, 217)","active-text-color":"rgb(64, 158, 255)","default-active":t.activeNav}},[r("el-submenu",{attrs:{index:"1"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-setting"}),t._v(" "),r("span",[t._v("系统管理")])]),t._v(" "),r("el-menu-item",{attrs:{index:"1-1"}},[r("router-link",{attrs:{to:"/mgcms/usergl",tag:"li"}},[t._v("用户管理")])],1)],2),t._v(" "),r("el-submenu",{attrs:{index:"2"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-menu"}),t._v(" "),r("span",[t._v("内容管理")])]),t._v(" "),r("el-menu-item",{attrs:{index:"2-1"}},[r("router-link",{attrs:{to:"/mgcms/basis",tag:"li"}},[t._v("基础配置")])],1),t._v(" "),r("el-menu-item",{attrs:{index:"2-2"}},[r("router-link",{attrs:{to:"/mgcms/article",tag:"li"}},[t._v("文章管理")])],1),t._v(" "),r("el-menu-item",{attrs:{index:"2-3"}},[r("router-link",{attrs:{to:"/mgcms/navigation",tag:"li"}},[t._v("导航配置")])],1),t._v(" "),r("el-menu-item",{attrs:{index:"2-4"}},[r("router-link",{attrs:{to:"/mgcms/imgconfig",tag:"li"}},[t._v("图片配置")])],1),t._v(" "),r("el-menu-item",{attrs:{index:"2-5"}},[r("router-link",{attrs:{to:"/mgcms/product",tag:"li"}},[t._v("产品动态")])],1),t._v(" "),r("el-menu-item",{attrs:{index:"2-6"}},[r("router-link",{attrs:{to:"/mgcms/clientserver",tag:"li"}},[t._v("客户服务")])],1),t._v(" "),r("el-menu-item",{attrs:{index:"2-7"}},[r("router-link",{attrs:{to:"/mgcms/basisbottom",tag:"li"}},[t._v("底部配置")])],1),t._v(" "),r("el-menu-item",{attrs:{index:"2-8"}},[r("router-link",{attrs:{to:"/mgcms/company",tag:"li"}},[t._v("公司简介")])],1),t._v(" "),r("el-menu-item",{attrs:{index:"2-9"}},[r("router-link",{attrs:{to:"/mgcms/about",tag:"li"}},[t._v("关于我们")])],1),t._v(" "),r("el-menu-item",{attrs:{index:"3-1"}},[r("router-link",{attrs:{to:"/mgcms/productshow",tag:"li"}},[t._v("产品展示")])],1)],2)],1)],1)],1)],1),t._v(" "),r("el-main",{staticClass:"el_main"},[r("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var b={components:{Menulist:i("C7Lr")(g,h,!1,function(t){i("3iBc")},"data-v-5bb21f3c",null).exports}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("Menulist")],1)},staticRenderFns:[]};var y=i("C7Lr")(b,_,!1,function(t){i("h9qc")},"data-v-0c5058ac",null).exports,F={name:"login",data:function(){return{loginUser:{email:"",password:""},rules:{email:[{validator:function(t,e,i){return e?/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e)?void i():i(new Error("邮箱格式错误")):i(new Error("邮箱不能为空"))},trigger:"blur"}],password:[{validator:function(t,e,i){return e?e.length<6?i(new Error("密码不能小于6位")):void i():i(new Error("密码不能为空"))},trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$axios.post("/api/users/login",e.loginUser).then(function(t){var i=t.data.token;localStorage.setItem("userToken",i);var r=c()(i);e.$store.dispatch("setIsAutnenticated",!e.isEmpty(r)),e.$store.dispatch("setUser",r),e.$router.push("/mgcms/main")})})},isEmpty:function(t){return void 0===t||null===t||"object"===(void 0===t?"undefined":s()(t))&&0===n()(t).length||"string"==typeof t&&0===t.trim().length}}},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("vue-particles",{attrs:{color:"#dedede",particleOpacity:.7,particlesNumber:80,shapeType:"circle",particleSize:4,linesColor:"#54FF9F",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:3,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}}),t._v(" "),i("div",{staticClass:"login_content"},[t._m(0),t._v(" "),i("div",{staticClass:"formstyle"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.loginUser,"status-icon":"",rules:t.rules,"label-width":"40px"}},[i("el-form-item",{staticClass:"ceshi",attrs:{label:"Email",prop:"email"}},[i("el-input",{attrs:{placeholder:"请输入邮箱",type:"email",autocomplete:"off"},model:{value:t.loginUser.email,callback:function(e){t.$set(t.loginUser,"email",e)},expression:"loginUser.email"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"password"}},[i("el-input",{attrs:{placeholder:"请输入密码",type:"password",autocomplete:"off"},model:{value:t.loginUser.password,callback:function(e){t.$set(t.loginUser,"password",e)},expression:"loginUser.password"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"text-align":"center"}},[i("el-button",{staticStyle:{width:"200px"},attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("登录")])],1)],1)],1),t._v(" "),i("div",{staticClass:"login_registertitle"},[i("router-link",{attrs:{tag:"h1",to:"/register"}},[t._v("注册账号")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login_title"},[e("h1",[this._v("芒果CMS平台")])])}]};var x=i("C7Lr")(F,w,!1,function(t){i("roDx")},"data-v-4e805eed",null).exports,k={name:"login",data:function(){var t=this;return{registerUser:{name:"",email:"",password:"",password2:""},rules:{name:[{validator:function(t,e,i){return e?e.length<5?i(new Error("用户名不能小于5位")):void i():i(new Error("用户名不能为空"))},trigger:"blur"}],password:[{validator:function(t,e,i){return e?e.length<6?i(new Error("密码不能小于6位")):void i():i(new Error("密码不能为空"))},trigger:"blur"}],email:[{validator:function(t,e,i){return e?/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e)?void i():i(new Error("邮箱格式错误")):i(new Error("邮箱不能为空"))},trigger:"blur"}],password2:[{validator:function(e,i,r){return i?i!==t.registerUser.password?r(new Error("两次输入密码不一致!")):void r():r(new Error("密码不能为空"))},trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&(e.$axios.post("/api/users/register",e.registerUser).then(function(t){e.$message({message:"账号注册成功!",type:"success"})}),e.$router.push("/login"))})}}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"register",attrs:{id:"bboo"}},[i("vue-particles",{attrs:{color:"#dedede",particleOpacity:.7,particlesNumber:80,shapeType:"circle",particleSize:4,linesColor:"#54FF9F",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:3,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}}),t._v(" "),i("div",{staticClass:"register_content"},[t._m(0),t._v(" "),i("div",{staticClass:"formstyle"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.registerUser,"status-icon":"",rules:t.rules,"label-width":"70px"}},[i("el-form-item",{staticClass:"ceshi",attrs:{label:"账号",prop:"name"}},[i("el-input",{attrs:{placeholder:"请输入账号",type:"text",autocomplete:"off"},model:{value:t.registerUser.name,callback:function(e){t.$set(t.registerUser,"name",e)},expression:"registerUser.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{placeholder:"请输入邮箱",type:"email",autocomplete:"off"},model:{value:t.registerUser.email,callback:function(e){t.$set(t.registerUser,"email",e)},expression:"registerUser.email"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"password"}},[i("el-input",{attrs:{placeholder:"请输入密码",type:"password",autocomplete:"off"},model:{value:t.registerUser.password,callback:function(e){t.$set(t.registerUser,"password",e)},expression:"registerUser.password"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"确认密码",prop:"password2"}},[i("el-input",{attrs:{placeholder:"请输入密码",type:"password",autocomplete:"off"},model:{value:t.registerUser.password2,callback:function(e){t.$set(t.registerUser,"password2",e)},expression:"registerUser.password2"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"text-align":"center"}},[i("el-button",{staticStyle:{width:"200px"},attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("注册")])],1)],1)],1),t._v(" "),i("div",{staticClass:"register_registertitle"},[i("router-link",{attrs:{tag:"h1",to:"/login"}},[t._v("账号登录")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"register_title"},[e("h1",[this._v("芒果CMS平台")])])}]};var $=i("C7Lr")(k,C,!1,function(t){i("XGd2")},"data-v-b104ddbe",null).exports,S={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"unknown"},[e("div",{staticClass:"content"},[e("canvas",{staticClass:"snow",attrs:{id:"snow",width:"1920",height:"917"}}),this._v(" "),e("div",{staticClass:"main-text"},[e("h1",[e("br"),this._v("页面在雪地里失踪了")])]),this._v(" "),e("div",{staticClass:"ground"},[e("div",{staticClass:"mound"},[e("div",{staticClass:"mound_text"},[this._v("404")]),this._v(" "),e("div",{staticClass:"mound_spade"})])])])])}]};var E=i("C7Lr")({name:"unknown"},S,!1,function(t){i("LJp3")},"data-v-2c2f1f13",null).exports,I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"xtgl"},[e("router-view")],1)},staticRenderFns:[]},T=i("C7Lr")(null,I,!1,null,null,null).exports,z={name:"usergl",data:function(){var t=this;return{tableData:[],dialogVisible:!1,dialogVisibles:!1,ruleForm:{ypass:"",newPass:"",qrnewPass:""},ruleForms:{name:"",email:"",identity:"",password:"",repeatpassword:""},value:"",rules:{ypass:[{required:!0,validator:function(t,e,i){""===e?i(new Error("请输原密码")):i()},trigger:"blur"}],newPass:[{required:!0,validator:function(t,e,i){""===e?i(new Error("请输新密码")):i()},trigger:"blur"}],qrnewPass:[{required:!0,validator:function(e,i,r){""===i?r(new Error("确认密码")):i!==t.ruleForm.newPass?r(new Error("两次密码不一致")):r()},trigger:"blur"}]},ruless:{name:[{required:!0,validator:function(t,e,i){""===e?i(new Error("用户名不能为空")):i()},trigger:"blur"}],email:[{required:!0,validator:function(t,e,i){return e?/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e)?void i():i(new Error("邮箱格式错误")):i(new Error("邮箱不能为空"))},trigger:"blur"}],identity:[{required:!0,message:"请选择用户身份",trigger:"blur"}],password:[{required:!0,validator:function(t,e,i){""===e?i(new Error("密码不能为空")):e.length<6?i(new Error("密码不能小于6位")):i()},trigger:"blur"}],repeatpassword:[{required:!0,validator:function(e,i,r){""===i?r(new Error("密码不能为空")):i!==t.ruleForms.password?r(new Error("两次密码不一致")):r()},trigger:"blur"}]},editId:""}},created:function(){this.getUsers()},computed:{permissions:function(){return this.$store.getters.user.identity}},methods:{getUsers:function(){var t=this;this.$axios.get("/api/users/").then(function(e){t.tableData=e.data})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message({message:"信息不完整",type:"error"}),!1;e.$axios.post("/api/users/modify/"+e.editId,e.ruleForm).then(function(t){e.dialogVisible=!1,e.$message({message:"密码修改成功",type:"success"}),setTimeout(function(){localStorage.removeItem("userToken"),e.$store.dispatch("clearCurrentState"),e.$router.push("/login")},1e3)})})},modifyClick:function(t){this.dialogVisible=!0,this.editId=t._id},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},addBtn:function(){this.dialogVisibles=!0},submitForms:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message({message:"信息不完整",type:"error"}),!1;e.$axios.post("/api/users/register",e.ruleForms).then(function(t){})})}}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"usergl"},[i("el-row",[i("el-col",[i("el-divider",{attrs:{"content-position":"left"}},[t._v("用户管理")]),t._v(" "),i("el-button",{staticClass:"adduser",attrs:{type:"primary"},on:{click:t.addBtn}},[t._v("添加管理员")]),t._v(" "),i("el-dialog",{attrs:{title:"添加管理员",visible:t.dialogVisibles,width:"28%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisibles=e}}},[i("div",{staticClass:"addusers"},[i("el-form",{ref:"ruleForms",staticClass:"demo-ruleForm",attrs:{model:t.ruleForms,"status-icon":"",rules:t.ruless,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"用户名",prop:"name"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForms.name,callback:function(e){t.$set(t.ruleForms,"name",e)},expression:"ruleForms.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForms.email,callback:function(e){t.$set(t.ruleForms,"email",e)},expression:"ruleForms.email"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"用户身份",prop:"identity"}},[i("el-select",{attrs:{placeholder:"用户身份"},model:{value:t.ruleForms.identity,callback:function(e){t.$set(t.ruleForms,"identity",e)},expression:"ruleForms.identity"}},[i("el-option",{attrs:{label:"超级管理员",disabled:"",value:"administrator"}}),t._v(" "),i("el-option",{attrs:{label:"管理员",value:"administrator"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"password"}},[i("el-input",{attrs:{type:"password"},model:{value:t.ruleForms.password,callback:function(e){t.$set(t.ruleForms,"password",e)},expression:"ruleForms.password"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"确认密码",prop:"repeatpassword"}},[i("el-input",{attrs:{type:"password"},model:{value:t.ruleForms.repeatpassword,callback:function(e){t.$set(t.ruleForms,"repeatpassword",e)},expression:"ruleForms.repeatpassword"}})],1)],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisibles=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForms("ruleForms")}}},[t._v("确 定")])],1)]),t._v(" "),i("el-table",{staticStyle:{width:"30%"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t._v(" "),i("el-table-column",{attrs:{label:"身份"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(t._s(e.row.identity?"管理员":"超级管理员"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"用户名"}}),t._v(" "),t.permissions?t._e():i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.modifyClick(e.row)}}},[t._v("修改密码")])]}}],null,!1,470496179)})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"修改密码",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"原密码",prop:"ypass"}},[i("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.ypass,callback:function(e){t.$set(t.ruleForm,"ypass",e)},expression:"ruleForm.ypass"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"新密码",prop:"newPass"}},[i("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.newPass,callback:function(e){t.$set(t.ruleForm,"newPass",e)},expression:"ruleForm.newPass"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"确认密码",prop:"qrnewPass"}},[i("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.qrnewPass,callback:function(e){t.$set(t.ruleForm,"qrnewPass",e)},expression:"ruleForm.qrnewPass"}})],1)],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)])],1)],1)},staticRenderFns:[]};var V=i("C7Lr")(z,L,!1,function(t){i("BGt/")},null,null).exports,D={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("角色管理")])])}]},M=i("C7Lr")(null,D,!1,null,null,null).exports,U={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("主页")])])}]},A=i("C7Lr")(null,U,!1,null,null,null).exports,N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("router-view")],1)},staticRenderFns:[]};var P=i("C7Lr")({name:"contents"},N,!1,function(t){i("YEgw")},"data-v-3a3fa462",null).exports,R={name:"basis",data:function(){return{fileList:[],imageUrl:"",dialogImageUrl:"",dialogVisiblex:!1,avatar_uploader:"",morenclass:"morenclass",basisForm:{webname:"",headerTitle:"",describe:""},dialogVisible:!1,disabled:!1,bianji:!1,editId:"",rules:{webname:[{validator:function(t,e,i){""===e?i(new Error("请输入网站名称")):i()},trigger:"blur"}],headerTitle:[{validator:function(t,e,i){""===e?i(new Error("请输入头部标题")):i()},trigger:"blur"}],describe:[{validator:function(t,e,i){""===e?i(new Error("请输入头部标题")):i()},trigger:"blur"}]},headers:{Authorization:localStorage.getItem("userToken")}}},created:function(){this.getUpdateform(),this.requseLogo()},methods:{handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$axios.post("/api/info/add",e.basisForm).then(function(t){e.$nextTick(function(){e.getUpdateform()})})})},getUpdateform:function(){var t=this;this.$axios.get("/api/info").then(function(e){if(404!=e.data.error){e.data[0];t.basisForm.webname=e.data[0].webname,t.basisForm.headerTitle=e.data[0].headerTitle,t.basisForm.describe=e.data[0].describe,t.editId=e.data[0]._id,""==t.basisForm.webname.value&&""==t.basisForm.headerTitle.value&&""==t.basisForm.describe.value||(t.disabled=!0,t.bianji=!0)}})},requseLogo:function(){var t=this;this.$axios.get("/api/logoimg").then(function(e){200==e.data.status?(t.avatar_uploader="avatar_uploader",t.fileList.push({_id:e.data._id,url:e.data.imglogo})):(t.avatar_uploader="",t.fileList=[])})},handleRemove:function(t,e){var i=this,r=t._id;this.$axios.delete("/api/logoimg/delete/"+r).then(function(t){i.requseLogo()})},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},successLogo:function(t,e){this.requseLogo()},editForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$axios.post("/api/info/edit/"+e.editId,e.basisForm).then(function(t){e.$nextTick(function(){e.getUpdateform()}),e.dialogVisiblex=!1,e.$message({message:"编辑成功",type:"success"})})})}}},B={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"basis"}},[i("el-form",{ref:"basisForm",staticClass:"demo-ruleForm",attrs:{model:t.basisForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[i("el-row",[i("el-divider",{attrs:{"content-position":"left"}},[t._v("基础配置")]),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:"网站名称",prop:"webname"}},[i("el-input",{attrs:{type:"text",autocomplete:"off",disabled:t.disabled},model:{value:t.basisForm.webname,callback:function(e){t.$set(t.basisForm,"webname",e)},expression:"basisForm.webname"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"头部标题",prop:"headerTitle"}},[i("el-input",{attrs:{type:"text",autocomplete:"off",disabled:t.disabled},model:{value:t.basisForm.headerTitle,callback:function(e){t.$set(t.basisForm,"headerTitle",e)},expression:"basisForm.headerTitle"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"副标题",prop:"describe"}},[i("el-input",{attrs:{type:"text",autocomplete:"off",disabled:t.disabled},model:{value:t.basisForm.describe,callback:function(e){t.$set(t.basisForm,"describe",e)},expression:"basisForm.describe"}})],1),t._v(" "),i("el-form-item",[t.bianji?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisiblex=!0}}},[t._v("编辑")]):t._e()],1)],1)],1),t._v(" "),i("el-divider",{attrs:{"content-position":"left"}},[t._v("LOGO配置")]),t._v(" "),i("div",{staticClass:"upfileLogo"},[i("div",{staticClass:"left_Totle"},[i("span",[t._v("LOGO")])]),t._v(" "),i("div",[i("el-upload",{class:[t.avatar_uploader,t.morenclass],attrs:{action:"/api/logoimg/img","list-type":"picture-card","file-list":t.fileList,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-success":t.successLogo,headers:t.headers,limit:1,name:"logo"}},[i("i",{staticClass:"el-icon-plus"})]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)]),t._v(" "),i("el-form-item",{staticClass:"primarybtn"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("basisForm")}}},[t._v("保存")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑",visible:t.dialogVisiblex,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisiblex=e}}},[i("el-form",{ref:"basisForm",staticClass:"demo-ruleForm",attrs:{model:t.basisForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[i("el-row",[i("el-col",[i("el-form-item",{attrs:{label:"网站名称",prop:"webname"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.basisForm.webname,callback:function(e){t.$set(t.basisForm,"webname",e)},expression:"basisForm.webname"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"头部标题",prop:"headerTitle"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.basisForm.headerTitle,callback:function(e){t.$set(t.basisForm,"headerTitle",e)},expression:"basisForm.headerTitle"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"副标题",prop:"describe"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.basisForm.describe,callback:function(e){t.$set(t.basisForm,"describe",e)},expression:"basisForm.describe"}})],1)],1)],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisiblex=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.editForm("basisForm")}}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var q=i("C7Lr")(R,B,!1,function(t){i("eo4M")},null,null).exports,j={data:function(){return{tableData:[],alltableData:[],dialogVisible:!1,ruleForm:{author:"",title:"",content:"",details:"",releasedate:""},formDatas:"",config:{},rules:{},ImgFile:"",title:"添加文章",paginations:{page_index:1,total:0,page_size:5,page_sizes:[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper"}}},created:function(){this.getNews()},methods:{handleSizeChange:function(t){this.paginations.page_index=1,this.paginations.page_size=t,this.tableData=this.alltableData.filter(function(e,i){return i<t})},handleCurrentChange:function(t){for(var e=this.paginations.page_size*(t-1),i=this.paginations.page_size*t,r=[],a=e;a<i;a++)this.alltableData[a]&&r.push(this.alltableData[a]),this.tableData=r},Addarticle:function(){this.$router.push("/mgcms/articleadd")},handleClick:function(t){var e=this,i=t._id;this.$axios.delete("/api/news/delete/"+i).then(function(t){e.$message({message:"删除成功",type:"success"}),e.$nextTick(function(){e.getNews()})})},editClick:function(t){var e=t._id;this.$router.push({path:"/mgcms/editarticle",query:{id:e}})},getNews:function(){var t=this;this.$axios.get("/api/news").then(function(e){t.alltableData=e.data,t.setPaginations()}).catch(function(t){return console.log(t)})},setPaginations:function(){var t=this;this.paginations.total=this.alltableData.length,this.paginations.page_index=1,this.paginations.page_size=5,this.tableData=this.alltableData.filter(function(e,i){return i<t.paginations.page_size})}}},O={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article"},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("文章配置")]),t._v(" "),i("div",{staticClass:"addition"},[i("el-button",{attrs:{type:"primary"},on:{click:t.Addarticle}},[t._v("添加文章")])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{fixed:"",prop:"author",label:"作者",width:"140"}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"标题",width:"140"}}),t._v(" "),i("el-table-column",{staticStyle:{padding:"0px !important",border:"1px solid red"},attrs:{label:"文章图片",width:"180",prop:"thumbnailimg"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticStyle:{"border-radius":"50%","margin-top":"5px"},attrs:{src:t.row.thumbnailimg,alt:"",width:"60px",height:"60px"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"content",label:"文章摘要",width:"360"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(t._s(e.row.content.substring(0,60))+"...")])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"releasedate",label:"发布日期"}}),t._v(" "),i("el-table-column",{attrs:{label:"预览",width:"170"}},[i("el-button",{attrs:{type:"primary",size:"small",plain:""}},[t._v("查看")])],1),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(i){return t.editClick(e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(i){return t.handleClick(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"right","margin-top":"5px"}},[i("el-pagination",{attrs:{"current-page":t.paginations.page_index,"page-sizes":t.paginations.page_sizes,"page-size":t.paginations.page_size,layout:t.paginations.layout,total:t.paginations.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.paginations,"page_index",e)},"update:current-page":function(e){return t.$set(t.paginations,"page_index",e)}}})],1)],1)},staticRenderFns:[]};var W=i("C7Lr")(j,O,!1,function(t){i("HL7H")},null,null).exports,G=i("3cXf"),H=i.n(G),Z={data:function(){return{formdata:[{name:"",hyperlinks:"",disabled:!0}],dialogVisible:!1,asdfgh:Object,Edit:""}},created:function(){this.updatenavig()},methods:{updatenavig:function(){var t=this;this.$axios.get("/api/navigat").then(function(e){t.formdata=e.data})},plusClick:function(t,e){if(""==t.name||""==t.hyperlinks)return this.$message({message:"信息不能为空",type:"error"}),!1;this.formdata.push({name:"",hyperlinks:"",disabled:!0})},Btndelete:function(t,e){var i=this;if(0==e)return this.$message({message:"至少保留一项导航",type:"warning"}),!1;t._id?this.$axios.delete("/api/navigat/delete/"+t._id).then(function(t){i.formdata.splice(e,1),i.$message({message:"删除成功",type:"success"})}):(this.formdata.splice(e,1),this.$message({message:"删除成功",type:"success"}))},secondaryAdd:function(t,e){t.push({lower:"",lowerhyperlinks:""})},secondaryDelete:function(t,e){t.splice(e,1),console.log(t)},addLower:function(t,e){if(console.log(e,t),""==t.name||""==t.hyperlinks)return this.$message({message:"顶级导航不能为空",type:"error"}),!1;this.addkg=!0;r.default.set(this.formdata[e],"secondarydata",[{lower:"",lowerhyperlinks:""}])},submitClick:function(t){var e=this;if(""==t.hyperlinks||""==t.name)return this.$message({message:"顶级导航不能为空",type:"error"}),!1;this.$axios.post("/api/navigat/add",{name:t.name,hyperlinks:t.hyperlinks,secondarydata:H()(t.secondarydata)}).then(function(t){e.$message({message:"保存成功",type:"success"}),e.updatenavig()})},Btnedit:function(t,e){this.dialogVisible=!0,this.Edit=t._id,this.asdfgh=t},EditAdd:function(){var t=this;this.$axios.post("/api/navigat/edit/"+this.Edit,{name:this.asdfgh.name,hyperlinks:this.asdfgh.hyperlinks,secondarydata:H()(this.asdfgh.secondarydata)}).then(function(e){t.$message({message:"编辑成功",type:"success"}),t.dialogVisible=!1,t.updatenavig()})},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})}}},J={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"navigation"}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("导航配置")]),t._v(" "),i("div",{staticClass:"vesselcontent"},t._l(t.formdata,function(e,r){return i("div",{key:r,staticClass:"boxvertical"},[i("div",{staticClass:"djmenu",staticStyle:{float:"left"}},[i("span",[t._v("名称")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],attrs:{type:"text",disabled:!e.disabled,placeholder:"顶级导航"},domProps:{value:e.name},on:{input:function(i){i.target.composing||t.$set(e,"name",i.target.value)}}})]),t._v(" "),i("div",{staticClass:"djmenu",staticStyle:{float:"left"}},[i("span",[t._v("超链接")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.hyperlinks,expression:"item.hyperlinks"}],attrs:{type:"text",disabled:!e.disabled,placeholder:"超链接"},domProps:{value:e.hyperlinks},on:{input:function(i){i.target.composing||t.$set(e,"hyperlinks",i.target.value)}}})]),t._v(" "),i("div",{staticClass:"clear"}),t._v(" "),t._l(e.secondarydata,function(r,a){return i("div",{key:a,staticClass:"xiajbox"},[i("div",{staticClass:"erjicen"},[i("span",[t._v("二级")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:r.lower,expression:"list.lower"}],attrs:{type:"text",placeholder:"二级导航"},domProps:{value:r.lower},on:{input:function(e){e.target.composing||t.$set(r,"lower",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"erjicen"},[i("span",[t._v("超链接")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:r.lowerhyperlinks,expression:"list.lowerhyperlinks"}],attrs:{type:"text",placeholder:"超链接"},domProps:{value:r.lowerhyperlinks},on:{input:function(e){e.target.composing||t.$set(r,"lowerhyperlinks",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"erjibox"},[i("span",{staticClass:"erdelete",on:{click:function(i){return t.secondaryDelete(e.secondarydata,a)}}},[t._v("删除")]),t._v(" "),i("span",{staticClass:"adder",on:{click:function(i){return t.secondaryAdd(e.secondarydata,a)}}},[t._v("添加")])])])}),t._v(" "),i("div",{staticClass:"addBtn addBtna"},[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.plusClick(e,r)}}},[t._v("添加")])],1),t._v(" "),i("div",{staticClass:"addBtn addBtnb"},[i("el-button",{attrs:{type:"primary",disabled:!e.disabled},on:{click:function(i){return t.addLower(e,r)}}},[t._v("下级")])],1),t._v(" "),i("div",{staticClass:"addBtn addBtnc"},[i("el-button",{attrs:{type:"success",disabled:!e.disabled},on:{click:function(i){return t.submitClick(e)}}},[t._v("保存")])],1),t._v(" "),i("div",{staticClass:"addBtn addBtnd"},[i("el-button",{attrs:{type:"danger"},on:{click:function(i){return t.Btndelete(e,r)}}},[t._v("删除")])],1),t._v(" "),i("div",{staticClass:"addBtn addBtne"},[i("el-button",{attrs:{type:"warning"},on:{click:function(i){return t.Btnedit(e,r)}}},[t._v("编辑")])],1)],2)}),0),t._v(" "),i("el-dialog",{attrs:{title:"编辑",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"boxvertical"},[i("div",{staticClass:"djmenu",staticStyle:{float:"left"}},[i("span",[t._v("名称")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.asdfgh.name,expression:"asdfgh.name"}],attrs:{type:"text",placeholder:"顶级导航"},domProps:{value:t.asdfgh.name},on:{input:function(e){e.target.composing||t.$set(t.asdfgh,"name",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"djmenu",staticStyle:{float:"left"}},[i("span",[t._v("超链接")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.asdfgh.hyperlinks,expression:"asdfgh.hyperlinks"}],attrs:{type:"text",placeholder:"超链接"},domProps:{value:t.asdfgh.hyperlinks},on:{input:function(e){e.target.composing||t.$set(t.asdfgh,"hyperlinks",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"clear"}),t._v(" "),t._l(t.asdfgh.secondarydata,function(e,r){return i("div",{key:r,staticClass:"xiajbox"},[i("div",{staticClass:"erjicen"},[i("span",[t._v("二级")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.lower,expression:"list.lower"}],attrs:{type:"text",placeholder:"二级导航"},domProps:{value:e.lower},on:{input:function(i){i.target.composing||t.$set(e,"lower",i.target.value)}}})]),t._v(" "),i("div",{staticClass:"erjicen"},[i("span",[t._v("超链接")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.lowerhyperlinks,expression:"list.lowerhyperlinks"}],attrs:{type:"text",placeholder:"超链接"},domProps:{value:e.lowerhyperlinks},on:{input:function(i){i.target.composing||t.$set(e,"lowerhyperlinks",i.target.value)}}})]),t._v(" "),i("div",{staticClass:"erjibox"},[i("span",{staticClass:"erdelete",on:{click:function(e){return t.secondaryDelete(t.asdfgh.secondarydata,r)}}},[t._v("删除")]),t._v(" "),i("span",{staticClass:"adder",on:{click:function(e){return t.secondaryAdd(t.asdfgh.secondarydata,r)}}},[t._v("添加")])])])}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.EditAdd}},[t._v("确 定")])],1)],2)])],1)},staticRenderFns:[]};var Y=i("C7Lr")(Z,J,!1,function(t){i("l3pN")},null,null).exports,X={data:function(){return{title:"点击上传",disabled:!1,headers:{Authorization:localStorage.getItem("userToken")},fileList:[]}},created:function(){this.ceshi()},methods:{handleRemove:function(t,e){var i=this,r=t._id;this.$axios.delete("/api/imgconfig/delete/"+r).then(function(t){var e=t.data.success;i.$message({type:"success",message:e})})},getUpdatashu:function(){var t=this;this.$axios.get("/api/imgconfig").then(function(e){t.fileList=[],e.data.forEach(function(e){t.fileList.push(e)})})},ceshi:function(){var t=this;this.$axios.get("/api/imgconfig").then(function(e){e.data.forEach(function(e){t.fileList.push(e)})})}}},K={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"imgconfig"},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("轮播图配置")]),t._v(" "),i("div",{staticClass:"shuffling"},[i("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/imgconfig/add","on-remove":t.handleRemove,"file-list":t.fileList,"list-type":"picture",limit:8,name:"url",headers:t.headers,disabled:t.disabled,"on-success":t.getUpdatashu}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[i("font",{staticStyle:{color:"red","vertical-align":"middle"}},[t._v("*")]),t._v("只能上传jpg/png文件, 图片不超过2M")],1)],1)],1)],1)},staticRenderFns:[]};var Q=i("C7Lr")(X,K,!1,function(t){i("g88x")},"data-v-c8fc3628",null).exports,tt=i("Eq4a"),et=i.n(tt),it={name:"MyWangEditor",props:{infodata:String,required:!0},data:function(){return{editorContent:"",artiImg:""}},watch:{infodata:function(t,e){var i=this;if(t){var r=new et.a(this.$refs.myWangEditor);r.customConfig={onchange:function(t){i.$emit("fuwenb",t,i.artiImg)},uploadImgMaxSize:3145728,uploadImgMaxLength:2,uploadFileName:"myFileName",withCredentials:!0,uploadImgTimeout:3e3,uploadImgServer:"/api/news/wangeditor/upload"},r.customConfig.uploadImgHeaders={Authorization:localStorage.getItem("userToken")},this.toListenUp(r),r.create(),r.txt.html(t)}}},mounted:function(){var t=this,e=new et.a(this.$refs.myWangEditor);e.customConfig={onchange:function(e){t.$emit("fuwenb",e,t.artiImg)},uploadImgMaxSize:3145728,uploadImgMaxLength:2,uploadFileName:"myFileName",withCredentials:!0,uploadImgTimeout:3e3,uploadImgServer:"/api/news/wangeditor/upload"},e.customConfig.uploadImgHeaders={Authorization:localStorage.getItem("userToken")},this.toListenUp(e),e.create()},methods:{toListenUp:function(t){t.customConfig.uploadImgHooks={before:function(t,e,i){},success:function(t,e,i){},fail:function(t,e,i){},error:function(t,e){},timeout:function(t,e){},customInsert:function(t,e,i){this.artiImg=e,t(e)}}}}},rt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"myWangEditor",attrs:{id:"myWangEditor"}})])},staticRenderFns:[]};var at=i("C7Lr")(it,rt,!1,function(t){i("Fen+")},null,null).exports,nt={name:"ArticleAdd",data:function(){return{ruleForm:{author:"",title:"",content:"",details:"",releasedate:"",thumbnailimg:""},ImgFile:"",rules:{author:[{validator:function(t,e,i){""===e?i(new Error("请输入文章作者")):i()},trigger:"blur"}],title:[{validator:function(t,e,i){""===e?i(new Error("请输入文章标题")):i()},trigger:"blur"}],content:[{validator:function(t,e,i){""===e?i(new Error("请输文章摘要")):i()},trigger:"blur"}]}}},components:{Ueditor:at},methods:{getMsgFormSon:function(t){this.ruleForm.details=t[0]+t[1]},returnTO:function(){this.$router.go(-1)},tirggerFile:function(t){var e=this,i=t.target.files[0],r=new FormData;r.append("coverImg",i);var a={headers:{Authorization:localStorage.getItem("userToken"),"Content-Type":"multipart/form-data"}};this.$axios.post("/api/news/add/coverImg",r,a).then(function(t){e.ruleForm.thumbnailimg=t.data})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message({message:"请填写完整,添加失败！",type:"error"}),!1;e.$axios.post("/api/news/add",e.ruleForm).then(function(t){e.dialogVisible=!1,e.$message({message:"添加成功",type:"success"}),e.$nextTick(function(){e.$router.go(-1)})})})}}},ot={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"articleAdd"},[i("el-button",{attrs:{type:"primary"},on:{click:t.returnTO}},[t._v("返回")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保存")]),t._v(" "),i("el-divider",{attrs:{"content-position":"left"}},[t._v("文章配置")]),t._v(" "),i("div",{staticClass:"formPrimary"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"作者",prop:"author"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.author,callback:function(e){t.$set(t.ruleForm,"author",e)},expression:"ruleForm.author"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文章摘要",prop:"content"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.content,callback:function(e){t.$set(t.ruleForm,"content",e)},expression:"ruleForm.content"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文章详情"}},[i("Ueditor",{on:{fuwenb:function(e){return t.getMsgFormSon(arguments)}}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文章图片",prop:"thumbnailimg"}},[i("input",{attrs:{type:"file"},on:{change:function(e){return t.tirggerFile(e)}}})]),t._v(" "),i("el-form-item",{attrs:{label:"发布日期",prop:"releasedate"}},[i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.ruleForm.releasedate,callback:function(e){t.$set(t.ruleForm,"releasedate",e)},expression:"ruleForm.releasedate"}})],1)],1)],1)],1)},staticRenderFns:[]};var st=i("C7Lr")(nt,ot,!1,function(t){i("YM7u")},"data-v-6d135959",null).exports,lt={name:"EditArticle",data:function(){return{edit:this.$route.query.id,ruleForm:{author:"",title:"",content:"",details:"",releasedate:"",thumbnailimg:""},xxx:"1233123",RichText:"",ImgFile:"",rules:{author:[{validator:function(t,e,i){""===e?i(new Error("请输入文章作者")):i()},trigger:"blur"}],title:[{validator:function(t,e,i){""===e?i(new Error("请输入文章标题")):i()},trigger:"blur"}],content:[{validator:function(t,e,i){""===e?i(new Error("请输文章摘要")):i()},trigger:"blur"}]},fcz:""}},created:function(){this.getNews()},components:{Ueditor:at},methods:{getNews:function(){var t=this;this.$axios.get("/api/news/"+this.edit).then(function(e){t.fcz=e.data.details;var i=e.data;t.ruleForm.author=i.author,t.ruleForm.title=i.title,t.ruleForm.content=i.content,t.ruleForm.details=i.details,t.ruleForm.releasedate=i.releasedate,t.ruleForm.thumbnailimg=i.thumbnailimg,t.xxx=i.thumbnailimg.substr(17)}).catch(function(t){return console.log(t)})},getMsgFormSon:function(t){this.ruleForm.details=t},returnTO:function(){this.$router.go(-1)},tirggerFile:function(t){var e=this,i=t.target.files[0],r=new FormData;r.append("coverImg",i);var a={headers:{Authorization:localStorage.getItem("userToken"),"Content-Type":"multipart/form-data"}};this.$axios.post("/api/news/add/coverImg",r,a).then(function(t){e.ruleForm.thumbnailimg=t.data,e.xxx=t.data.substr(17)})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$axios.post("/api/news/edit/"+e.edit,e.ruleForm).then(function(t){e.dialogVisible=!1,e.$message({message:"编辑成功",type:"success"}),e.$nextTick(function(){e.$router.go(-1)})})})}}},ct={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"EditArticle"},[i("el-button",{attrs:{type:"primary"},on:{click:t.returnTO}},[t._v("返回")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保存")]),t._v(" "),i("el-divider",{attrs:{"content-position":"left"}},[t._v("文章编辑")]),t._v(" "),i("div",{staticClass:"formPrimary"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"作者",prop:"author"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.author,callback:function(e){t.$set(t.ruleForm,"author",e)},expression:"ruleForm.author"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文章摘要",prop:"content"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.content,callback:function(e){t.$set(t.ruleForm,"content",e)},expression:"ruleForm.content"}})],1),t._v(" "),i("el-form-item",{staticStyle:{position:"relative","z-index":"1"},attrs:{label:"文章详情"}},[i("Ueditor",{attrs:{infodata:t.fcz},on:{fuwenb:t.getMsgFormSon}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文章图片",prop:"thumbnailimg"}},[i("label",{attrs:{for:"test-upload",id:"lab-file"}},[t._v("重新上传")]),t._v(" "),i("span",{staticClass:"yxuz"},[t._v("已选择:"+t._s(t.xxx))]),t._v(" "),i("input",{attrs:{id:"test-upload",type:"file"},on:{change:function(e){return t.tirggerFile(e)}}})]),t._v(" "),i("el-form-item",{attrs:{label:"发布日期",prop:"releasedate"}},[i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.ruleForm.releasedate,callback:function(e){t.$set(t.ruleForm,"releasedate",e)},expression:"ruleForm.releasedate"}})],1)],1)],1)],1)},staticRenderFns:[]};var ut=i("C7Lr")(lt,ct,!1,function(t){i("C2da")},"data-v-8f548a98",null).exports,dt={name:"product",data:function(){return{tableData:[]}},created:function(){this.getInfodata()},methods:{getInfodata:function(){var t=this;this.$axios.get("/api/product").then(function(e){t.tableData=e.data}).catch(function(t){})},handleClick:function(t){var e=t._id;this.$router.push({path:"/mgcms/productedit",query:{id:e}})},deleteClick:function(t){var e=this,i=t._id;this.$axios.delete("/api/product/delete/"+i).then(function(t){e.$message({message:"删除成功",type:"success",center:!0}),setTimeout(function(){e.getInfodata()})})},productAdd:function(){this.$router.push("/mgcms/productadd")}}},mt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product"},[i("el-row",[i("el-col",{attrs:{span:10}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("产品动态")]),t._v(" "),i("div",{staticClass:"btncl"},[i("el-button",{staticClass:"btncsty",attrs:{type:"primary"},on:{click:t.productAdd}},[t._v("添加动态")])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{fixed:"",prop:"productdate",label:"日期",width:"130"}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"标题",width:"130"}}),t._v(" "),i("el-table-column",{attrs:{prop:"icon",label:"图标",width:"130"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticStyle:{"margin-top":"5px"},attrs:{src:t.row.icon,alt:"",width:"60px",height:"60px"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"content",label:"描述",width:"214"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(t._s(e.row.content.substring(0,40))+"...")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"112"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.handleClick(e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.deleteClick(e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]};var pt=i("C7Lr")(dt,mt,!1,function(t){i("EETj")},null,null).exports,ft={name:"productadd",data:function(){return{ruleForm:{title:"",content:"",productdate:"",icon:""},rules:{title:[{validator:function(t,e,i){if(!e)return i(new Error("标题不能为空"));i()},trigger:"blur"}],content:[{validator:function(t,e,i){if(!e)return i(new Error("描述不能为空"));i()},trigger:"blur"}],productdate:[{validator:function(t,e,i){if(!e)return i(new Error("发布时间不能为空"));i()},trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message({message:"信息不全",type:"error",center:!0}),!1;e.$axios.post("/api/product/add",e.ruleForm).then(function(t){e.$message({message:"添加成功",type:"success",center:!0}),setTimeout(function(){e.$router.go(-1)},1e3)}).catch(function(t){e.$message({message:t,type:"err",center:!0})})})},iconfnFile:function(t){var e=this,i=t.target.files[0],r=new FormData;r.append("iconImg",i);var a={headers:{Authorization:localStorage.getItem("userToken"),"Content-Type":"multipart/form-data"}};this.$axios.post("/api/product/addicon",r,a).then(function(t){var i=t.data.img;e.ruleForm.icon=i}).catch(function(t){})},returnGo:function(){this.$router.go(-1)}}},vt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"productadd"},[i("el-row",[i("el-col",{attrs:{span:7}},[i("div",[i("el-button",{staticClass:"btnsty",attrs:{type:"primary"},on:{click:t.returnGo}},[t._v("返回")]),t._v(" "),i("el-button",{staticClass:"btnsty",attrs:{type:"success"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保存")])],1),t._v(" "),i("el-divider",{attrs:{"content-position":"left"}},[t._v("产品动态")]),t._v(" "),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"标题",prop:"title"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"icon图标"}},[i("input",{attrs:{type:"file"},on:{change:function(e){return t.iconfnFile(e)}}})]),t._v(" "),i("el-form-item",{attrs:{label:"描述",prop:"content"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ruleForm.content,expression:"ruleForm.content"}],staticStyle:{height:"100px",width:"100%"},attrs:{autocomplete:"off"},domProps:{value:t.ruleForm.content},on:{input:function(e){e.target.composing||t.$set(t.ruleForm,"content",e.target.value)}}})]),t._v(" "),i("el-form-item",{attrs:{label:"发布时间",prop:"productdate"}},[i("div",{staticClass:"block"},[i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",align:"left"},model:{value:t.ruleForm.productdate,callback:function(e){t.$set(t.ruleForm,"productdate",e)},expression:"ruleForm.productdate"}})],1)])],1)],1)],1)],1)},staticRenderFns:[]};var gt=i("C7Lr")(ft,vt,!1,function(t){i("NLS3")},null,null).exports,ht={name:"ProductEdit.vue",data:function(){return{inputFile:"",edit:this.$route.query.id,ruleForm:{title:"",content:"",productdate:"",icon:""},rules:{title:[{validator:function(t,e,i){if(!e)return i(new Error("标题不能为空"));i()},trigger:"blur"}],content:[{validator:function(t,e,i){if(!e)return i(new Error("描述不能为空"));i()},trigger:"blur"}],productdate:[{validator:function(t,e,i){if(!e)return i(new Error("发布时间不能为空"));i()},trigger:"blur"}]}}},created:function(){this.getdataInfo()},methods:{iconfnFile:function(t){var e=this,i=t.target.files[0];this.inputFile=i.name;var r=new FormData;r.append("iconImg",i);var a={headers:{Authorization:localStorage.getItem("userToken"),"Content-Type":"multipart/form-data"}};this.$axios.post("/api/product/addicon",r,a).then(function(t){var i=t.data.img;e.ruleForm.icon=i}).catch(function(t){})},returnGo:function(){this.$router.go(-1)},getdataInfo:function(){var t=this;this.$axios.get("/api/product/"+this.edit).then(function(e){t.ruleForm.title=e.data.title,t.ruleForm.content=e.data.content,t.ruleForm.productdate=e.data.productdate,t.ruleForm.icon=e.data.icon,t.inputFile=e.data.icon.substr(12)})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$axios.post("/api/product/edit/"+e.edit,e.ruleForm).then(function(t){e.$router.go(-1),e.$message({message:"编辑成功",type:"success",center:!0})})})}}},bt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ProductEdit"},[i("el-row",[i("el-col",{attrs:{span:7}},[i("div",[i("el-button",{staticClass:"btnsty",attrs:{type:"primary"},on:{click:t.returnGo}},[t._v("返回")]),t._v(" "),i("el-button",{staticClass:"btnsty",attrs:{type:"success"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保存")])],1),t._v(" "),i("el-divider",{attrs:{"content-position":"left"}},[t._v("编辑动态")]),t._v(" "),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"标题",prop:"title"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"icon图标"}},[i("label",{attrs:{for:"fileinp"}},[i("input",{attrs:{type:"button",id:"btn",value:"重新上传"}}),t._v(" "),i("span",{attrs:{id:"text"}},[i("span",[t._v("已选择:")]),t._v("\n              "+t._s(t.inputFile)+"\n            ")]),t._v(" "),i("input",{attrs:{id:"fileinp",type:"file"},on:{change:function(e){return t.iconfnFile(e)}}})])]),t._v(" "),i("el-form-item",{attrs:{label:"描述",prop:"content"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ruleForm.content,expression:"ruleForm.content"}],staticStyle:{height:"100px",width:"100%"},attrs:{autocomplete:"off"},domProps:{value:t.ruleForm.content},on:{input:function(e){e.target.composing||t.$set(t.ruleForm,"content",e.target.value)}}})]),t._v(" "),i("el-form-item",{attrs:{label:"发布时间",prop:"productdate"}},[i("div",{staticClass:"block"},[i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",align:"left"},model:{value:t.ruleForm.productdate,callback:function(e){t.$set(t.ruleForm,"productdate",e)},expression:"ruleForm.productdate"}})],1)])],1)],1)],1)],1)},staticRenderFns:[]};var _t=i("C7Lr")(ht,bt,!1,function(t){i("oVvP")},null,null).exports,yt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ClientServer"},[i("el-row",[i("el-col",{attrs:{span:10}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("客户服务")]),t._v(" "),i("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.Addbtn}},[t._v("添加服务")]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{prop:"title",label:"标题",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{prop:"ClientImg",label:"缩略图",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticStyle:{"margin-top":"5px"},attrs:{src:t.row.ClientImg,alt:"",width:"100%",height:"60px"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"content",label:"内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v("\n              "+t._s(e.row.content.substring(0,38))+"...\n            ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"success",size:"small"},on:{click:function(i){return t.editClick(e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(i){return t.deleteClick(e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]};var Ft=i("C7Lr")({name:"ClientServer",data:function(){return{tableData:[]}},created:function(){this.getClient()},methods:{Addbtn:function(){this.$router.push("/mgcms/clientserveradd")},editClick:function(t){this.$router.push({name:"clientserveredit",params:{id:t._id}})},deleteClick:function(t){var e=this,i=t._id;this.$axios.delete("/api/client/delete/"+i).then(function(t){e.$message({message:"删除成功",type:"success"}),e.$nextTick(function(){e.getClient()})}).catch(function(t){e.$message({message:t,type:"err"})})},getClient:function(){var t=this;this.$axios.get("/api/client").then(function(e){t.tableData=e.data}).catch(function(t){})}}},yt,!1,function(t){i("07lz")},null,null).exports,wt={name:"ClientServerAdd",data:function(){return{ruleForm:{title:"",ClientImg:"",content:""},rules:{title:[{validator:function(t,e,i){if(!e)return i(new Error("标题不能为空"));i()},trigger:"blur"}],content:[{validator:function(t,e,i){if(!e)return i(new Error("内容不能为空"));i()},trigger:"blur"}]}}},methods:{returnGo:function(){this.$router.go(-1)},ClientImgfn:function(t){var e=this,i=t.target.files[0],r=new FormData;r.append("ClientImg",i);var a={headers:{Authorization:localStorage.getItem("userToken"),"Content-Type":"multipart/form-data"}};this.$axios.post("/api/client/ClientImg",r,a).then(function(t){e.ruleForm.ClientImg=t.data.img}).catch(function(t){})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$axios.post("/api/client/add",e.ruleForm).then(function(t){e.$message({message:"添加成功",type:"success",center:!0}),setTimeout(function(){e.$router.go(-1)},1e3)})})}}},xt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ClientServerAdd"},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("添加服务")]),t._v(" "),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"60px"}},[i("el-form-item",{attrs:{label:"标题",prop:"title"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"缩略图",prop:"ClientImg"}},[i("input",{attrs:{type:"file"},on:{change:function(e){return t.ClientImgfn(e)}}})]),t._v(" "),i("el-form-item",{attrs:{label:"内容",prop:"content"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ruleForm.content,expression:"ruleForm.content"}],staticStyle:{width:"100%",height:"120px"},attrs:{autocomplete:"off"},domProps:{value:t.ruleForm.content},on:{input:function(e){e.target.composing||t.$set(t.ruleForm,"content",e.target.value)}}})]),t._v(" "),i("el-form-item",[i("el-button",{on:{click:t.returnGo}},[t._v("返回")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保存")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var kt=i("C7Lr")(wt,xt,!1,function(t){i("AAnF")},null,null).exports,Ct={name:"ClientServerEdit",data:function(){return{inputFile:"",idinfo:this.$route.params.id,ruleForm:{title:"",ClientImg:"",content:""},rules:{title:[{validator:function(t,e,i){if(!e)return i(new Error("标题不能为空"));i()},trigger:"blur"}],content:[{validator:function(t,e,i){if(!e)return i(new Error("内容不能为空"));i()},trigger:"blur"}]}}},created:function(){this.getIdinfo()},methods:{iconfnFile:function(t){var e=this,i=t.target.files[0],r=new FormData;r.append("ClientImg",i);var a={headers:{Authorization:localStorage.getItem("userToken"),"Content-Type":"multipart/form-data"}};this.$axios.post("/api/client/ClientImg",r,a).then(function(t){e.inputFile=t.data.img.substr(15),e.ruleForm.ClientImg=t.data.img}).catch(function(t){})},getIdinfo:function(){var t=this;this.$axios.get("/api/client/"+this.idinfo).then(function(e){var i=e.data;t.ruleForm.title=i.title,t.ruleForm.content=i.content,t.ruleForm.ClientImg=i.ClientImg,t.inputFile=i.ClientImg.substr(15)}).catch(function(t){})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$axios.post("/api/client/edit/"+e.idinfo,e.ruleForm).then(function(t){e.$router.go(-1),e.$message({message:"编辑成功",type:"success",center:!0})})})},returnGo:function(){this.$router.go(-1)}}},$t={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ClientServerEdit"},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("编辑服务")]),t._v(" "),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"60px"}},[i("el-form-item",{attrs:{label:"标题",prop:"title"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"缩略图",prop:"ClientImg"}},[i("label",{attrs:{for:"fileinp"}},[i("input",{attrs:{type:"button",id:"btn",value:"重新上传"}}),t._v(" "),i("span",{attrs:{id:"text"}},[i("span",[t._v("已选择:")]),t._v("\n              "+t._s(t.inputFile)+"\n            ")]),t._v(" "),i("input",{attrs:{id:"fileinp",type:"file"},on:{change:function(e){return t.iconfnFile(e)}}})])]),t._v(" "),i("el-form-item",{attrs:{label:"内容",prop:"content"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ruleForm.content,expression:"ruleForm.content"}],staticStyle:{width:"100%",height:"120px"},attrs:{autocomplete:"off"},domProps:{value:t.ruleForm.content},on:{input:function(e){e.target.composing||t.$set(t.ruleForm,"content",e.target.value)}}})]),t._v(" "),i("el-form-item",[i("el-button",{on:{click:t.returnGo}},[t._v("返回")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保存")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var St=i("C7Lr")(Ct,$t,!1,function(t){i("io+a")},null,null).exports,Et={name:"Basisbottom",data:function(){return{ruleForm:{telephone:"",weburl:"",address:"",icp:"",erweima:""},rules:{},formData:[{name:"",hyperlink:"",disabled:!0}],disabled:!0,submdisabled:!1,inputFile:"",dialogVisible:!1,editID:"",disableds:!0}},created:function(){this.getBootominfo(),this.getbotInfo()},watch:{},methods:{getBootominfo:function(){var t=this;this.$axios.get("/api/basisbottom").then(function(e){e.data.length>0&&(t.formData=e.data)})},plusClick:function(t,e){if(console.log(t),""==t.name||""==t.hyperlink)return this.$message({message:"信息不能为空",type:"error"}),!1;this.formData.push({name:"",hyperlink:"",disabled:!0})},subtractClick:function(t,e){var i=this;t._id?this.$axios.delete("/api/basisbottom/delete/"+t._id).then(function(t){i.$message({message:"删除成功",type:"success"}),i.formData.splice(e,1)}):this.formData.splice(e,1)},submitClick:function(t){var e=this;if(""==t.name||""==t.hyperlink)return this.$message({message:"信息不能为空",type:"error"}),!1;this.$axios.post("/api/basisbottom/add",{name:t.name,hyperlink:t.hyperlink}).then(function(t){e.$nextTick(function(){e.getBootominfo()})})},changeFile:function(t){var e=this,i=t.target.files[0],r=new FormData;r.append("erweima",i);var a={headers:{Authorization:localStorage.getItem("userToken"),"Content-Type":"multipart/form-data"}};this.$axios.post("/api/btominfo/qrcode",r,a).then(function(t){e.ruleForm.erweima=t.data.img,e.inputFile=t.data.img.substr(16)})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$axios.post("/api/btominfo/add",e.ruleForm).then(function(t){e.$message({message:"保存成功",type:"scuuess"}),e.$nextTick(function(){e.getbotInfo()})}).catch(function(t){})})},getbotInfo:function(){var t=this;this.$axios.get("/api/btominfo").then(function(e){200==e.status?(t.ruleForm.telephone=e.data.telephone,t.ruleForm.weburl=e.data.weburl,t.ruleForm.address=e.data.address,t.ruleForm.icp=e.data.icp,t.ruleForm.erweima=e.data.erweima,t.inputFile=e.data.erweima.substr(37),t.disabled=!1,t.submdisabled=!0,t.editID=e.data._id):(t.disabled=!0,t.submdisabled=!1)})},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},editClick:function(){var t=this;this.$axios.post("/api/btominfo/edit/"+this.editID,this.ruleForm).then(function(e){t.dialogVisible=!1,t.$message({message:"编辑成功",type:"success"})})}}},It={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Basisbottom"},[i("div",{staticClass:"hzhb"},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("合作伙伴")]),t._v(" "),i("div",{staticClass:"vesselcontent"},t._l(t.formData,function(e,r){return i("div",{key:r,staticStyle:{display:"flex","flex-direction":"row","margin-bottom":"10px"}},[i("div",{staticStyle:{"margin-right":"10px"}},[i("span",{staticClass:"labelst"},[t._v("名称")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticStyle:{height:"25px"},attrs:{type:"text",disabled:!e.disabled},domProps:{value:e.name},on:{input:function(i){i.target.composing||t.$set(e,"name",i.target.value)}}})]),t._v(" "),i("div",{staticStyle:{"margin-right":"10px"}},[i("span",{staticClass:"labelst"},[t._v("超链接")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.hyperlink,expression:"item.hyperlink"}],staticStyle:{height:"25px"},attrs:{type:"text",disabled:!e.disabled},domProps:{value:e.hyperlink},on:{input:function(i){i.target.composing||t.$set(e,"hyperlink",i.target.value)}}})]),t._v(" "),i("div",{staticStyle:{"margin-right":"8px"}},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){return t.plusClick(e,r)}}},[t._v("添加")])],1),t._v(" "),i("div",{staticStyle:{"margin-right":"8px"}},[i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(i){return t.subtractClick(e,r)}}},[t._v("删除")])],1),t._v(" "),i("div",[i("el-button",{attrs:{type:"success",disabled:!e.disabled,size:"small"},on:{click:function(i){return t.submitClick(e)}}},[t._v("保存")])],1)])}),0)],1),t._v(" "),i("div",{staticClass:"bootinfo"},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("底部信息")]),t._v(" "),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"手机",prop:"telephone"}},[i("el-input",{attrs:{type:"text",disabled:t.submdisabled,autocomplete:"off"},model:{value:t.ruleForm.telephone,callback:function(e){t.$set(t.ruleForm,"telephone",e)},expression:"ruleForm.telephone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"网址",prop:"weburl"}},[i("el-input",{attrs:{type:"text",disabled:t.submdisabled,autocomplete:"off"},model:{value:t.ruleForm.weburl,callback:function(e){t.$set(t.ruleForm,"weburl",e)},expression:"ruleForm.weburl"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"公司地址",prop:"address"}},[i("el-input",{attrs:{disabled:t.submdisabled,autocomplete:"off"},model:{value:t.ruleForm.address,callback:function(e){t.$set(t.ruleForm,"address",e)},expression:"ruleForm.address"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"二维码",prop:"erweima"}},[i("label",{attrs:{for:"fileinp"}},[i("input",{attrs:{disabled:t.submdisabled,type:"button",id:"btn",value:"已上传"}}),t._v(" "),i("span",{attrs:{id:"text"}},[i("span",[t._v("已选择:")]),t._v("\n                "+t._s(t.inputFile)+"\n              ")]),t._v(" "),i("input",{attrs:{disabled:t.submdisabled,id:"fileinp",type:"file"},on:{change:function(e){return t.changeFile(e)}}})])]),t._v(" "),i("el-form-item",{attrs:{label:"备案号",prop:"icp"}},[i("el-input",{attrs:{disabled:t.submdisabled,autocomplete:"off"},model:{value:t.ruleForm.icp,callback:function(e){t.$set(t.ruleForm,"icp",e)},expression:"ruleForm.icp"}})],1),t._v(" "),i("el-form-item",[i("el-button",{staticClass:"btnsty",attrs:{disabled:t.submdisabled,type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")]),t._v(" "),i("el-button",{staticClass:"btnsty",attrs:{disabled:t.disabled,type:"danger"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("编辑")])],1)],1)],1)],1)],1),t._v(" "),i("div",{staticClass:"dialog"},[i("el-dialog",{attrs:{title:"编辑",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"form"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"手机",prop:"telephone"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.telephone,callback:function(e){t.$set(t.ruleForm,"telephone",e)},expression:"ruleForm.telephone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"网址",prop:"weburl"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.weburl,callback:function(e){t.$set(t.ruleForm,"weburl",e)},expression:"ruleForm.weburl"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"公司地址",prop:"address"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.ruleForm.address,callback:function(e){t.$set(t.ruleForm,"address",e)},expression:"ruleForm.address"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"二维码",prop:"erweima"}},[i("label",{attrs:{for:"fileinp"}},[i("input",{attrs:{type:"button",id:"btn",value:"重新上传"}}),t._v(" "),i("span",{attrs:{id:"text"}},[i("span",[t._v("已选择:")]),t._v("\n                "+t._s(t.inputFile)+"\n              ")]),t._v(" "),i("input",{attrs:{id:"fileinp",type:"file"},on:{change:function(e){return t.changeFile(e)}}})])]),t._v(" "),i("el-form-item",{attrs:{label:"备案号",prop:"icp"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.ruleForm.icp,callback:function(e){t.$set(t.ruleForm,"icp",e)},expression:"ruleForm.icp"}})],1)],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.editClick}},[t._v("确 定")])],1)])],1)])},staticRenderFns:[]};var Tt=i("C7Lr")(Et,It,!1,function(t){i("SF9y")},null,null).exports,zt={name:"MyWangEditor",props:{infodata:String,required:!0},data:function(){return{editorContent:""}},watch:{infodata:function(t,e){var i=this;if(t){var r=new et.a(this.$refs.myWangEditor);r.customConfig={onchange:function(t){i.$emit("fuwenb",t)},uploadImgMaxSize:3145728,uploadImgMaxLength:2,uploadFileName:"myFileName",withCredentials:!0,uploadImgTimeout:3e3,uploadImgServer:"/api/recruitment/describe"},r.customConfig.uploadImgHeaders={Authorization:localStorage.getItem("userToken")},this.toListenUp(r),r.create(),r.txt.html(t)}}},mounted:function(){var t=this,e=new et.a(this.$refs.myWangEditor);e.customConfig={onchange:function(e){t.$emit("fuwenb",e)},uploadImgMaxSize:3145728,uploadImgMaxLength:2,uploadFileName:"myFileName",withCredentials:!0,uploadImgTimeout:3e3,uploadImgServer:"/api/recruitment/describe"},e.customConfig.uploadImgHeaders={Authorization:localStorage.getItem("userToken")},this.toListenUp(e),e.create(),e.txt.html(this.infodata)},methods:{toListenUp:function(t){t.customConfig.uploadImgHooks={before:function(t,e,i){},success:function(t,e,i){},fail:function(t,e,i){},error:function(t,e){},timeout:function(t,e){},customInsert:function(t,e,i){t(e.data[0])}}}}},Lt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"myWangEditor",attrs:{id:"myWangEditor"}})])},staticRenderFns:[]};var Vt={name:"about",data:function(){return{dialogVisible:!1,dialogVisibles:!1,tableData:[],ruleForm:{name:"",describe:""},rules:{name:[{validator:function(t,e,i){if(!e)return i(new Error("名称不能为空"));i()},trigger:"blur"}],describe:[{validator:function(t,e,i){if(!e)return i(new Error("职位描述不能为空"));i()},trigger:"blur"}]},fcz:"",edit_id:""}},created:function(){this.getRecruitment()},components:{Ueditors:i("C7Lr")(zt,Lt,!1,function(t){i("u741")},null,null).exports},methods:{getMsgFormSon:function(t){this.ruleForm.describe=t},handleClick:function(t){this.dialogVisibles=!0,this.fcz=t.describe,this.ruleForm.name=t.name,this.edit_id=t._id},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$axios.post("/api/recruitment/add",e.ruleForm).then(function(t){e.dialogVisible=!1,e.$message({message:"添加成功",type:"success"}),e.$nextTick(function(){e.getRecruitment()})})})},editForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$axios.post("/api/recruitment/edit/"+e.edit_id,e.ruleForm).then(function(t){e.$message({message:"编辑成功",type:"success"}),e.dialogVisibles=!1,e.$nextTick(function(){e.getRecruitment()})})})},getRecruitment:function(){var t=this;this.$axios.get("/api/recruitment").then(function(e){t.tableData=e.data}).catch(function(t){})},deleteClick:function(t){var e=this;this.$axios.delete("/api/recruitment/delete/"+t._id).then(function(t){e.$message({message:"删除成功",type:"success"}),e.$nextTick(function(){e.getRecruitment()})})},editFn:function(){}}},Dt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about"},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("招聘配置")]),t._v(" "),i("div",{staticClass:"addbtn"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加职位")])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{prop:"name",label:"职位",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"describe",label:"职位描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{domProps:{innerHTML:t._s(e.row.describe)}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.handleClick(e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.deleteClick(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"43%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"职位",prop:"name"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"职位描述",prop:"describe"}},[i("Ueditors",{on:{fuwenb:t.getMsgFormSon}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑",visible:t.dialogVisibles,width:"43%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisibles=e}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"职位",prop:"name"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"职位描述",prop:"describe"}},[i("Ueditors",{attrs:{infodata:t.fcz},on:{fuwenb:t.getMsgFormSon}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisibles=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.editForm("ruleForm")}}},[t._v("确定")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Mt=i("C7Lr")(Vt,Dt,!1,function(t){i("2T1a")},null,null).exports,Ut={name:"company",data:function(){return{dialogVisible:!1,dialogVisibles:!1,tableData:[],ruleForm:{company_img:"",conpany_content:""},rules:{},inputFile:"",inputFiles:"",check:!1,checks:!1,editId:""}},created:function(){this.companyinfo()},methods:{iconfnFile:function(t){var e=this,i=t.target.files[0];this.check=!0,this.inputFile=i.name;var r=new FormData;r.append("company_img",i);var a={headers:{Authorization:localStorage.getItem("userToken"),"Content-Type":"multipart/form-data"}};this.$axios.post("/api/company/company_img",r,a).then(function(t){var i=t.data.img;e.ruleForm.company_img=i,e.inputFiles=t.data.img.substr(15)})},addClick:function(){this.dialogVisible=!0},editClick:function(t){this.editId=t._id,this.dialogVisibles=!0,this.checks=!0,this.inputFiles=t.company_img.substr(43),this.ruleForm.conpany_content=t.conpany_content,this.ruleForm.company_img=t.company_img.substr(28)},deleteClick:function(t){var e=this;this.$axios.delete("/api/company/delete/"+t._id).then(function(t){e.$message({message:"删除成功",type:"success"}),e.$nextTick(function(){e.companyinfo()})})},cancelClick:function(){this.dialogVisibles=!1,this.ruleForm={}},handleClose:function(t){var e=this;this.$confirm("确认关闭？").then(function(i){e.ruleForm={},t()}).catch(function(t){})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message({message:"信息不完整",type:"error"}),!1;e.$axios.post("/api/company/add",e.ruleForm).then(function(t){e.$message({message:"添加成功",type:"success"}),e.dialogVisible=!1,e.$nextTick(function(){e.companyinfo()})})})},edititForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$axios.post("/api/company/edit/"+e.editId,e.ruleForm).then(function(t){e.$nextTick(function(){e.companyinfo()}),e.$message({message:"编辑成功",type:"success"}),e.dialogVisibles=!1})})},companyinfo:function(){var t=this;this.$axios.get("/api/company").then(function(e){var i=e.data;t.tableData=i})}}},At={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"company"},[i("el-row",[i("el-col",{attrs:{span:10}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("公司简介")]),t._v(" "),i("div",{staticClass:"btnsty"},[i("el-button",{attrs:{type:"success",size:"small"},on:{click:t.addClick}},[t._v("添加简介")])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{prop:"company_img",label:"公司图片",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticStyle:{"margin-top":"5px"},attrs:{src:t.row.company_img,alt:"",width:"100%",height:"80px"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"conpany_content",label:"公司简介"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.editClick(e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.deleteClick(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:"添加",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"公司简介",prop:"conpany_content"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ruleForm.conpany_content,expression:"ruleForm.conpany_content"}],staticStyle:{width:"100%",height:"150px"},attrs:{autocomplete:"off"},domProps:{value:t.ruleForm.conpany_content},on:{input:function(e){e.target.composing||t.$set(t.ruleForm,"conpany_content",e.target.value)}}})]),t._v(" "),i("el-form-item",{attrs:{label:"公司图片",prop:"company_img"}},[i("label",{attrs:{for:"fileinp"}},[i("input",{attrs:{type:"button",id:"btn",value:"上传图片"}}),t._v(" "),t.check?i("span",{attrs:{id:"text"}},[i("span",[t._v("已选择:")]),t._v("\n                "+t._s(t.inputFile)+"\n              ")]):t._e(),t._v(" "),i("input",{attrs:{id:"fileinp",type:"file"},on:{change:function(e){return t.iconfnFile(e)}}})])])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑",visible:t.dialogVisibles,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisibles=e}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"公司简介",prop:"conpany_content"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ruleForm.conpany_content,expression:"ruleForm.conpany_content"}],staticStyle:{width:"100%",height:"150px"},attrs:{autocomplete:"off"},domProps:{value:t.ruleForm.conpany_content},on:{input:function(e){e.target.composing||t.$set(t.ruleForm,"conpany_content",e.target.value)}}})]),t._v(" "),i("el-form-item",{attrs:{label:"公司图片",prop:"company_img"}},[i("label",{attrs:{for:"fileinp"}},[i("input",{attrs:{type:"button",id:"btn",value:"重新上传"}}),t._v(" "),t.checks?i("span",{attrs:{id:"text"}},[i("span",[t._v("已选择:")]),t._v("\n                "+t._s(t.inputFiles)+"\n              ")]):t._e(),t._v(" "),i("input",{attrs:{id:"fileinp",type:"file"},on:{change:function(e){return t.iconfnFile(e)}}})])])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancelClick}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.edititForm("ruleForm")}}},[t._v("确 定")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Nt=i("C7Lr")(Ut,At,!1,function(t){i("0c4n")},null,null).exports,Pt={name:"productshow",data:function(){return{ruleForm:{name:"",content:"",productImg:""},rules:{name:[{validator:function(t,e,i){if(!e)return i(new Error("名称不能为空"));i()},trigger:"blur"}],content:[{validator:function(t,e,i){if(!e)return i(new Error("内容不能为空"));i()},trigger:"blur"}]},tableData:[],dialogVisible:!1,dialogVisibles:!1,checks:!1,InputValue:"",editId:""}},created:function(){this.getProductshow()},methods:{inputFile:function(t){var e=this,i=t.target.files[0];this.checks=!0,this.InputValue=i.name;var r=new FormData;r.append("productImg",i);var a={headers:{Authorization:localStorage.getItem("userToken"),"Content-Type":"multipart/form-data"}};this.$axios.post("/api/productshow/productImg",r,a).then(function(t){e.ruleForm.productImg=t.data.img})},addClick:function(){this.dialogVisible=!0},cancelClick:function(){this.dialogVisible=!1,this.dialogVisibles=!1,this.ruleForm={}},handleClose:function(t){var e=this;this.$confirm("确认关闭？").then(function(i){e.ruleForm={},t()}).catch(function(t){})},getProductshow:function(){var t=this;this.$axios.get("/api/productshow").then(function(e){t.tableData=e.data})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message({message:"请补全信息",type:"error"}),!1;e.$axios.post("/api/productshow/add",e.ruleForm).then(function(t){e.dialogVisible=!1,e.$nextTick(function(){e.getProductshow()})})})},editForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$axios.post("/api/productshow/edit/"+e.editId,e.ruleForm).then(function(t){e.dialogVisibles=!1,e.$message({message:"编辑成功",type:"success"}),e.$nextTick(function(){e.getProductshow()})})})},editClick:function(t){var e=this;this.$axios.get("/api/productshow/"+t._id).then(function(t){e.dialogVisibles=!0,e.editId=t.data._id,e.ruleForm.name=t.data.name,e.ruleForm.content=t.data.content,e.ruleForm.productImg=t.data.productImg,e.checks=!0,e.InputValue=t.data.productImg.substr(19)})},deleteClick:function(t){var e=this;this.$axios.delete("/api/productshow/delete/"+t._id).then(function(t){e.$message({message:"删除成功",type:"success"}),e.$nextTick(function(){e.getProductshow()})})}}},Rt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"productshow"},[i("el-row",[i("el-col",{attrs:{span:10}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("产品展示")]),t._v(" "),i("div",{staticClass:"addsty"},[i("el-button",{attrs:{type:"success"},on:{click:t.addClick}},[t._v("添加产品展示")])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{prop:"name",label:"名称",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"productImg",label:"图片",width:"170"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticStyle:{"margin-top":"5px"},attrs:{src:t.row.productImg,alt:"",width:"60px",height:"60px"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"content",label:"内容",width:"300"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"127"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.editClick(e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.deleteClick(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:"添加展示",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"60px"}},[i("el-form-item",{attrs:{label:"标题",prop:"name"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"内容",prop:"content"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.content,callback:function(e){t.$set(t.ruleForm,"content",e)},expression:"ruleForm.content"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"缩略图"}},[i("label",{attrs:{for:"InputFile"}},[i("input",{attrs:{type:"button",value:"上传图片"}}),t._v(" "),t.checks?i("span",{attrs:{id:"text"}},[i("span",[t._v("已选择:")]),t._v("\n                "+t._s(t.InputValue)+"\n              ")]):t._e(),t._v(" "),i("input",{attrs:{id:"InputFile",type:"file"},on:{change:function(e){return t.inputFile(e)}}})])])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancelClick}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑产品",visible:t.dialogVisibles,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisibles=e}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"60px"}},[i("el-form-item",{attrs:{label:"标题",prop:"name"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"内容",prop:"content"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.content,callback:function(e){t.$set(t.ruleForm,"content",e)},expression:"ruleForm.content"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"缩略图"}},[i("label",{attrs:{for:"InputFile"}},[i("input",{attrs:{type:"button",value:"重新上传"}}),t._v(" "),t.checks?i("span",{attrs:{id:"text"}},[i("span",[t._v("已选择:")]),t._v("\n                "+t._s(t.InputValue)+"\n              ")]):t._e(),t._v(" "),i("input",{attrs:{id:"InputFile",type:"file"},on:{change:function(e){return t.inputFile(e)}}})])])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancelClick}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.editForm("ruleForm")}}},[t._v("确 定")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Bt=i("C7Lr")(Pt,Rt,!1,function(t){i("UVD1")},null,null).exports;r.default.use(p.a);var qt=new p.a({routes:[{path:"*",name:"/unknown",component:E},{path:"/login",name:"login",component:x},{path:"/register",name:"register",component:$},{path:"/",name:"home",component:y,meta:{title:"首页"},redirect:"/login",children:[{path:"/mgcms",name:"mgcms",component:T,redirect:"/mgcms/usergl",meta:{title:"系统管理"},children:[{path:"/mgcms/usergl",name:"usergl",component:V,meta:{title:"用户管理",icon:"example",noCache:!0}},{path:"/mgcms/jsgl",name:"jsgl",component:M,meta:{title:"角色管理",icon:"example",noCache:!0}}]},{path:"/mgcms/main",name:"main",component:A},{path:"/mgcms/content",name:"content",component:P,meta:{title:"内容管理"},redirect:"/mgcms/basis",children:[{path:"/mgcms/basis",name:"basis",component:q,meta:{title:"基础配置"}},{path:"/mgcms/article",name:"article",component:W,meta:{title:"文章管理"}},{path:"/mgcms/navigation",name:"navigation",component:Y,meta:{title:"导航配置"}},{path:"/mgcms/imgconfig",name:"imgconfig",component:Q,meta:{title:"图片配置"}},{path:"/mgcms/articleadd",name:"/mgcms/articleadd",component:st,meta:{title:"文章添加"}},{path:"/mgcms/editarticle",name:"/mgcms/editarticle",component:ut,meta:{title:"编辑文章"}},{path:"/mgcms/product",name:"product",component:pt,meta:{title:"产品动态"}},{path:"/mgcms/productadd",name:"productadd",component:gt,meta:{title:"添加动态"}},{path:"/mgcms/productedit",name:"productedit",component:_t,meta:{title:"编辑动态"}},{path:"/mgcms/clientserver",name:"clientserver",component:Ft,meta:{title:"客户服务"}},{path:"/mgcms/clientserveradd",name:"clientserveradd",component:kt,meta:{title:"添加服务"}},{path:"/mgcms/clientserveredit/:id",name:"clientserveredit",component:St,meta:{title:"编辑服务"}},{path:"/mgcms/basisbottom",name:"basisbottom",component:Tt,meta:{title:"底部配置"}},{path:"/mgcms/about",name:"about",component:Mt,meta:{title:"关于我们"}},{path:"/mgcms/company",name:"company",component:Nt,meta:{title:"公司简介"}},{path:"/mgcms/productshow",name:"productshow",component:Bt,meta:{title:"产品展示"}}]}]}],base:"/admin/",mode:"history"}),jt=qt;qt.beforeEach(function(t,e,i){var r=!!localStorage.userToken;"/login"==t.path||"/register"==t.path?i():r?i():i("/login")});var Ot,Wt=i("a3Yh"),Gt=i.n(Wt),Ht=i("2bvH");r.default.use(Ht.a);var Zt="SET_IS_AUTNENTIATED",Jt="SET_USER",Yt=(Ot={},Gt()(Ot,Zt,function(t,e){t.isAutnenticated=e||!1}),Gt()(Ot,Jt,function(t,e){t.user=e||{}}),Ot),Xt={setIsAutnenticated:function(t,e){(0,t.commit)(Zt,e)},setUser:function(t,e){(0,t.commit)(Jt,e)},clearCurrentState:function(t){var e=t.commit;e(Zt,!1),e(Jt,null)}},Kt=new Ht.a.Store({state:{isAutnenticated:!1,user:{}},getters:{isAutnenticated:function(t){return t.isAutnenticated},user:function(t){return t.user}},mutations:Yt,actions:Xt}),Qt=i("rVsN"),te=i.n(Qt),ee=i("Muz9"),ie=i.n(ee),re=i("jsbU"),ae=i.n(re),ne=void 0;function oe(){ne.close()}ie.a.interceptors.request.use(function(t){return ne=re.Loading.service({lock:!0,text:"加载中...",background:"rgba(0, 0, 0, 0.7)"}),localStorage.userToken&&(t.headers.Authorization=localStorage.userToken),t},function(t){return te.a.reject(t)}),ie.a.interceptors.response.use(function(t){return oe(),t},function(t){return oe(),re.Message.error(t.response.data),401==t.response.status&&(re.Message.error("登录超时，请重新登录"),localStorage.removeItem("userToken"),jt.push("/login")),te.a.reject(t)});var se=ie.a,le=(i("EWIa"),i("D8LU"),i("cFSt"),i("qukJ"));r.default.use(le.a),r.default.use(ae.a),r.default.prototype.$axios=se,r.default.config.productionTip=!1,new r.default({el:"#app",router:jt,store:Kt,components:{App:m},template:"<App/>"})},NLS3:function(t,e){},SF9y:function(t,e){},UVD1:function(t,e){},XGd2:function(t,e){},YEgw:function(t,e){},YM7u:function(t,e){},cFSt:function(t,e){},eo4M:function(t,e){},g88x:function(t,e){},h9qc:function(t,e){},"io+a":function(t,e){},l3pN:function(t,e){},oVvP:function(t,e){},roDx:function(t,e){},u741:function(t,e){}},["NHnr"]);